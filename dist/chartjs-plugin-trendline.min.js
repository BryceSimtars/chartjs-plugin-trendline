/*! For license information please see chartjs-plugin-trendline.min.js.LICENSE.txt */
(()=>{var t={460:(t,e)=>{const s={id:"chartjs-plugin-trendline",afterDatasetsDraw:t=>{let e,s;for(let i in t.scales)if("x"==i[0]?s=t.scales[i]:e=t.scales[i],s&&e)break;const a=t.ctx;t.data.datasets.forEach(((e,r)=>{const n=e.alwaysShowTrendline||t.isDatasetVisible(r);if(e.trendlineLinear&&n&&e.data.length>1){const n=t.getDatasetMeta(r);i(n,a,e,s,t.scales[n.yAxisID])}})),a.setLineDash([])}},i=(t,e,s,i,r)=>{let n=s.borderColor||"rgba(169,169,169, .6)",o=s.trendlineLinear.colorMin||n,l=s.trendlineLinear.colorMax||n,h=s.trendlineLinear.width||s.borderWidth,d=s.trendlineLinear.lineStyle||"solid",u=s.trendlineLinear.fillColor;const m=s.trendlineLinear.xAxisKey||t.controller.chart.options.parsing.xAxisKey,x=s.trendlineLinear.yAxisKey||t.controller.chart.options.parsing.yAxisKey;h=void 0!==h?h:3;let c=new a,X=s.data.findIndex((t=>null!=t)),f=s.data.length-1,p=t.data[X][m],y=t.data[f][m],g="object"==typeof s.data[X];s.data.forEach(((t,e)=>{if(null!=t)if(["time","timeseries"].includes(i.options.type)){let s=null!=t[m]?t[m]:t.t;void 0!==s?c.add(new Date(s).getTime(),t[x]):c.add(e,t)}else g?isNaN(t.x)||isNaN(t.y)?isNaN(t.x)?isNaN(t.y)||c.add(e,t.y):c.add(e,t.x):c.add(t.x,t.y):c.add(e,t)}));let w,Y,L=i.getPixelForValue(c.minx),P=r.getPixelForValue(c.f(c.minx));if(s.trendlineLinear.projection&&c.scale()<0){let t=c.fo();t<c.minx&&(t=c.maxx),w=i.getPixelForValue(t),Y=r.getPixelForValue(c.f(t))}else w=i.getPixelForValue(c.maxx),Y=r.getPixelForValue(c.f(c.maxx));g||(L=p,w=y);let C=t.controller.chart.chartArea.bottom,b=t.controller.chart.width;if(P>C){let t=P-C,e=P-Y;P=C,L+=b*(t/e)}else if(Y>C){let t=Y-C,e=Y-P;Y=C,w=b-(w-(b-b*(t/e)))}e.lineWidth=h,"dotted"===d?e.setLineDash([2,3]):e.setLineDash([]),e.beginPath(),e.moveTo(L,P),e.lineTo(w,Y);let D=e.createLinearGradient(L,P,w,Y);Y<P?(D.addColorStop(0,l),D.addColorStop(1,o)):(D.addColorStop(0,o),D.addColorStop(1,l)),e.strokeStyle=D,e.stroke(),e.closePath(),u&&(e.fillStyle=u,e.beginPath(),e.moveTo(L,P),e.lineTo(w,Y),e.lineTo(w,C),e.lineTo(L,C),e.closePath(),e.fill())};class a{constructor(){this.count=0,this.sumX=0,this.sumX2=0,this.sumXY=0,this.sumY=0,this.minx=1e100,this.maxx=-1e100,this.maxy=-1e100}add(t,e){t=parseFloat(t),e=parseFloat(e),this.count++,this.sumX+=t,this.sumX2+=t*t,this.sumXY+=t*e,this.sumY+=e,t<this.minx&&(this.minx=t),t>this.maxx&&(this.maxx=t),e>this.maxy&&(this.maxy=e)}f(t){t=parseFloat(t);let e=this.count*this.sumX2-this.sumX*this.sumX;return(this.sumX2*this.sumY-this.sumX*this.sumXY)/e+t*((this.count*this.sumXY-this.sumX*this.sumY)/e)}fo(){let t=this.count*this.sumX2-this.sumX*this.sumX;return-(this.sumX2*this.sumY-this.sumX*this.sumXY)/t/((this.count*this.sumXY-this.sumX*this.sumY)/t)}scale(){let t=this.count*this.sumX2-this.sumX*this.sumX;return(this.count*this.sumXY-this.sumX*this.sumY)/t}}"undefined"!=typeof window&&window.Chart&&(window.Chart.hasOwnProperty("register")?window.Chart.register(s):window.Chart.plugins.register(s));try{t.exports=s}catch(t){}}},e={};!function s(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}(460)})();